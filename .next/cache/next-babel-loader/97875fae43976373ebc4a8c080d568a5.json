{"ast":null,"code":"var _jsxFileName = \"C:\\\\Work\\\\reactjs-crm\\\\pages\\\\p\\\\[id].js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Link from 'next/link';\nimport firebase from '../Firebase';\n\nclass Articles extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      board: {},\n      key: ''\n    };\n  }\n\n  componentDidMount() {\n    const {\n      id\n    } = this.props.params;\n    console.log({\n      id\n    });\n    const ref = firestore.collection(collection).where('title', '==', self.$route.params.id).get().then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        this.setState({\n          board: doc.data(),\n          key: doc.id,\n          isLoading: false\n        });\n      });\n    });\n  }\n\n  delete(id) {\n    firebase.firestore().collection('articles').doc(id).delete().then(() => {\n      console.log(\"Document successfully deleted!\");\n      this.props.history.push(\"/\");\n    }).catch(error => {\n      console.error(\"Error removing document: \", error);\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      class: \"panel panel-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      class: \"panel-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, __jsx(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, __jsx(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Board List\")), __jsx(\"h3\", {\n      class: \"panel-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, this.state.board.title)), __jsx(\"div\", {\n      class: \"panel-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, __jsx(\"dl\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, __jsx(\"dt\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Description:\"), __jsx(\"dd\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, this.state.board.description), __jsx(\"dt\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Author:\"), __jsx(\"dd\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, this.state.board.author)), __jsx(Link, {\n      to: `/edit/${this.state.key}`,\n      class: \"btn btn-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Edit\"), \"\\xA0\", __jsx(\"button\", {\n      onClick: this.delete.bind(this, this.state.key),\n      class: \"btn btn-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Delete\"))));\n  }\n\n}\n\nexport default Articles;","map":{"version":3,"sources":["C:\\Work\\reactjs-crm\\pages\\p\\[id].js"],"names":["React","Component","Link","firebase","Articles","constructor","props","state","board","key","componentDidMount","id","params","console","log","ref","firestore","collection","where","self","$route","get","then","querySnapshot","forEach","doc","setState","data","isLoading","delete","history","push","catch","error","render","title","description","author","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Link from 'next/link';\r\nimport firebase from '../Firebase';\r\n\r\nclass Articles extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      board: {},\r\n      key: ''\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n  \tconst { id } = this.props.params;\r\n    console.log({ id });\r\n    const ref = firestore.collection(collection).where('title','==', self.$route.params.id).get()\r\n      .then(function(querySnapshot) {\r\n        querySnapshot.forEach(function(doc) {      \r\n        this.setState({\r\n          board: doc.data(),\r\n          key: doc.id,\r\n          isLoading: false\r\n        });      \r\n    });\r\n  });\r\n  }\r\n\r\n  delete(id){\r\n    firebase.firestore().collection('articles').doc(id).delete().then(() => {\r\n      console.log(\"Document successfully deleted!\");\r\n      this.props.history.push(\"/\")\r\n    }).catch((error) => {\r\n      console.error(\"Error removing document: \", error);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"container\">\r\n        <div class=\"panel panel-default\">\r\n          <div class=\"panel-heading\">\r\n          <h4><Link to=\"/\">Board List</Link></h4>\r\n            <h3 class=\"panel-title\">\r\n              {this.state.board.title}\r\n            </h3>\r\n          </div>\r\n          <div class=\"panel-body\">\r\n            <dl>\r\n              <dt>Description:</dt>\r\n              <dd>{this.state.board.description}</dd>\r\n              <dt>Author:</dt>\r\n              <dd>{this.state.board.author}</dd>\r\n            </dl>\r\n            <Link to={`/edit/${this.state.key}`} class=\"btn btn-success\">Edit</Link>&nbsp;\r\n            <button onClick={this.delete.bind(this, this.state.key)} class=\"btn btn-danger\">Delete</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Articles;\r\n"]},"metadata":{},"sourceType":"module"}