{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\Work\\\\ageorgiev-reactjs\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport Layout from '../components/MyLayout';\nimport Link from 'next/link';\nimport firebase from '../src/Firebase';\nimport React, { Component } from 'react';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onCollectionUpdate\", querySnapshot => {\n      const boards = [];\n      querySnapshot.forEach(doc => {\n        const {\n          title,\n          description,\n          author\n        } = doc.data();\n        boards.push({\n          key: doc.id,\n          doc,\n          // DocumentSnapshot\n          title,\n          description,\n          author\n        });\n      });\n      this.setState({\n        boards\n      });\n    });\n\n    this.ref = firebase.firestore().collection('boards');\n    this.unsubscribe = null;\n    this.state = {\n      boards: []\n    };\n  }\n\n  componentDidMount() {\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      class: \"panel panel-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      class: \"panel-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, __jsx(\"h3\", {\n      class: \"panel-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"BOARD LIST\")), __jsx(\"div\", {\n      class: \"panel-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, __jsx(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, __jsx(Link, {\n      to: \"/create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Add Board\")), __jsx(\"table\", {\n      class: \"table table-stripe\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, __jsx(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, __jsx(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, __jsx(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Title\"), __jsx(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Description\"), __jsx(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Author\"))), __jsx(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, this.state.boards.map(board => __jsx(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, __jsx(Link, {\n      to: `/show/${board.key}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, board.title)), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, board.description), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, board.author))))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:\\Work\\ageorgiev-reactjs\\pages\\index.js"],"names":["Layout","Link","firebase","React","Component","App","constructor","props","querySnapshot","boards","forEach","doc","title","description","author","data","push","key","id","setState","ref","firestore","collection","unsubscribe","state","componentDidMount","onSnapshot","onCollectionUpdate","render","map","board"],"mappings":"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","sourcesContent":["import Layout from '../components/MyLayout';\r\nimport Link from 'next/link';\r\nimport firebase from '../src/Firebase';\r\nimport React, { Component } from 'react';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.ref = firebase.firestore().collection('boards');\r\n    this.unsubscribe = null;\r\n    this.state = {\r\n      boards: []\r\n    };\r\n  }\r\n\r\n  onCollectionUpdate = (querySnapshot) => {\r\n    const boards = [];\r\n    querySnapshot.forEach((doc) => {\r\n      const { title, description, author } = doc.data();\r\n      boards.push({\r\n        key: doc.id,\r\n        doc, // DocumentSnapshot\r\n        title,\r\n        description,\r\n        author,\r\n      });\r\n    });\r\n    this.setState({\r\n      boards\r\n   });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"container\">\r\n        <div class=\"panel panel-default\">\r\n          <div class=\"panel-heading\">\r\n            <h3 class=\"panel-title\">\r\n              BOARD LIST\r\n            </h3>\r\n          </div>\r\n          <div class=\"panel-body\">\r\n            <h4><Link to=\"/create\">Add Board</Link></h4>\r\n            <table class=\"table table-stripe\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Title</th>\r\n                  <th>Description</th>\r\n                  <th>Author</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {this.state.boards.map(board =>\r\n                  <tr>\r\n                    <td><Link to={`/show/${board.key}`}>{board.title}</Link></td>\r\n                    <td>{board.description}</td>\r\n                    <td>{board.author}</td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}