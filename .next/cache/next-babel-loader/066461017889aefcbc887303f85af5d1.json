{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Work\\\\reactjs-crm\\\\pages\\\\p\\\\[id].js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport firebase from '../Firebase';\nimport Layout from '../../components/MyLayout';\nimport { useRouter } from 'next/router';\n\nclass Article extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onCollectionUpdate\", querySnapshot => {\n      const boards = [];\n      const id = this.props.url.query.id;\n      this.ref.where('title', '==', 'sad').get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          const {\n            title,\n            description,\n            author\n          } = doc.data();\n          boards.push({\n            key: doc.id,\n            doc,\n            // DocumentSnapshot\n            title,\n            description,\n            author\n          });\n        });\n      }).catch(function (error) {\n        self.error = error;\n      });\n      this.setState({\n        boards\n      });\n    });\n\n    this.ref = firebase.firestore().collection('articles');\n    this.unsubscribe = null;\n    this.state = {\n      boards: []\n    };\n  }\n\n  componentDidMount() {\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\n    console.log(this.unsubscribe);\n  }\n\n  render() {\n    return __jsx(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \" Hello, \", boards.title, \" \");\n  }\n\n}\n\nexport default Article;","map":{"version":3,"sources":["C:\\Work\\reactjs-crm\\pages\\p\\[id].js"],"names":["React","Component","firebase","Layout","useRouter","Article","constructor","props","querySnapshot","boards","id","url","query","ref","where","get","then","forEach","doc","title","description","author","data","push","key","catch","error","self","setState","firestore","collection","unsubscribe","state","componentDidMount","onSnapshot","onCollectionUpdate","console","log","render"],"mappings":";;;AAAA,OAAOA,KAAP,IACIC,SADJ,QAEO,OAFP;AAGA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,SACIC,SADJ,QAEO,aAFP;;AAGA,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAC5BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,gDAQGC,aAAD,IAAmB;AACpC,YAAMC,MAAM,GAAG,EAAf;AACA,YAAMC,EAAE,GAAG,KAAKH,KAAL,CAAWI,GAAX,CAAeC,KAAf,CAAqBF,EAAhC;AACA,WAAKG,GAAL,CAASC,KAAT,CAAe,OAAf,EAAwB,IAAxB,EAA8B,KAA9B,EAAqCC,GAArC,GAA2CC,IAA3C,CAAgD,UAASR,aAAT,EAAwB;AACpEA,QAAAA,aAAa,CAACS,OAAd,CAAsB,UAASC,GAAT,EAAc;AAChC,gBAAM;AACFC,YAAAA,KADE;AAEFC,YAAAA,WAFE;AAGFC,YAAAA;AAHE,cAIFH,GAAG,CAACI,IAAJ,EAJJ;AAKAb,UAAAA,MAAM,CAACc,IAAP,CAAY;AACRC,YAAAA,GAAG,EAAEN,GAAG,CAACR,EADD;AAERQ,YAAAA,GAFQ;AAEH;AACLC,YAAAA,KAHQ;AAIRC,YAAAA,WAJQ;AAKRC,YAAAA;AALQ,WAAZ;AAOH,SAbD;AAcH,OAfD,EAeGI,KAfH,CAeS,UAASC,KAAT,EAAgB;AACrBC,QAAAA,IAAI,CAACD,KAAL,GAAaA,KAAb;AACH,OAjBD;AAkBA,WAAKE,QAAL,CAAc;AACVnB,QAAAA;AADU,OAAd;AAGH,KAhCkB;;AAEf,SAAKI,GAAL,GAAWX,QAAQ,CAAC2B,SAAT,GAAqBC,UAArB,CAAgC,UAAhC,CAAX;AACA,SAAKC,WAAL,GAAmB,IAAnB;AACA,SAAKC,KAAL,GAAa;AACTvB,MAAAA,MAAM,EAAE;AADC,KAAb;AAGH;;AA0BDwB,EAAAA,iBAAiB,GAAG;AAChB,SAAKF,WAAL,GAAmB,KAAKlB,GAAL,CAASqB,UAAT,CAAoB,KAAKC,kBAAzB,CAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,WAAjB;AACH;;AACDO,EAAAA,MAAM,GAAG;AACL,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACH7B,MAAM,CAACU,KADJ,MAAP;AAGH;;AA1C2B;;AA4ChC,eAAed,OAAf","sourcesContent":["import React, {\r\n    Component\r\n} from 'react';\r\nimport firebase from '../Firebase';\r\nimport Layout from '../../components/MyLayout';\r\nimport {\r\n    useRouter\r\n} from 'next/router'\r\nclass Article extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.ref = firebase.firestore().collection('articles');\r\n        this.unsubscribe = null;\r\n        this.state = {\r\n            boards: []\r\n        };\r\n    }\r\n    onCollectionUpdate = (querySnapshot) => {\r\n        const boards = [];\r\n        const id = this.props.url.query.id;\r\n        this.ref.where('title', '==', 'sad').get().then(function(querySnapshot) {\r\n            querySnapshot.forEach(function(doc) {\r\n                const {\r\n                    title,\r\n                    description,\r\n                    author\r\n                } = doc.data();\r\n                boards.push({\r\n                    key: doc.id,\r\n                    doc, // DocumentSnapshot\r\n                    title,\r\n                    description,\r\n                    author,\r\n                });\r\n            });\r\n        }).catch(function(error) {\r\n            self.error = error;\r\n        });\r\n        this.setState({\r\n            boards\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\r\n        console.log(this.unsubscribe)\r\n    }\r\n    render() {\r\n        return <h1 > Hello, {\r\n            boards.title\r\n        } < /h1>;\r\n    }\r\n}\r\nexport default Article;"]},"metadata":{},"sourceType":"module"}