{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Work\\\\reactjs-crm\\\\pages\\\\p\\\\[id].js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport firebase from '../Firebase';\nimport Layout from '../../components/MyLayout';\nimport { useRouter } from 'next/router';\n\nclass Article extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onCollectionUpdate\", querySnapshot => {\n      const boards = [];\n      const id = this.props.url.query.id;\n      firebase.firestore().collection('articles').where('title', '==', 'sad').get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          const {\n            title,\n            description,\n            author\n          } = doc.data();\n          boards.push({\n            key: doc.id,\n            doc,\n            // DocumentSnapshot\n            title,\n            description,\n            author\n          });\n        });\n      }).catch(function (error) {\n        self.error = error;\n      });\n      this.setState({\n        boards\n      });\n    });\n\n    this.ref = firebase.firestore().collection('articles');\n    this.unsubscribe = null;\n    this.state = {\n      boards: []\n    };\n  }\n\n  componentDidMount() {\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\n    console.log(this.state);\n  }\n\n  render() {\n    return __jsx(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Hello,                 \", this.state.boards.map(board => __jsx(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"/p/[id]\",\n      as: \"/p/\".concat(board.title),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, board.title)), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, board.description), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, board.author))));\n  }\n\n}\n\nexport default Article;","map":{"version":3,"sources":["C:\\Work\\reactjs-crm\\pages\\p\\[id].js"],"names":["React","Component","firebase","Layout","useRouter","Article","constructor","props","querySnapshot","boards","id","url","query","firestore","collection","where","get","then","forEach","doc","title","description","author","data","push","key","catch","error","self","setState","ref","unsubscribe","state","componentDidMount","onSnapshot","onCollectionUpdate","console","log","render","map","board"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAC/BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,gDAQGC,aAAD,IAAmB;AACvC,YAAMC,MAAM,GAAG,EAAf;AACA,YAAMC,EAAE,GAAG,KAAKH,KAAL,CAAWI,GAAX,CAAeC,KAAf,CAAqBF,EAAhC;AACAR,MAAAA,QAAQ,CAACW,SAAT,GAAqBC,UAArB,CAAgC,UAAhC,EAA4CC,KAA5C,CAAkD,OAAlD,EAA0D,IAA1D,EAAgE,KAAhE,EAAuEC,GAAvE,GACMC,IADN,CACW,UAAST,aAAT,EAAwB;AAC5BA,QAAAA,aAAa,CAACU,OAAd,CAAsB,UAASC,GAAT,EAAc;AAChC,gBAAM;AAAEC,YAAAA,KAAF;AAASC,YAAAA,WAAT;AAAsBC,YAAAA;AAAtB,cAAiCH,GAAG,CAACI,IAAJ,EAAvC;AACLd,UAAAA,MAAM,CAACe,IAAP,CAAY;AACVC,YAAAA,GAAG,EAAEN,GAAG,CAACT,EADC;AAEVS,YAAAA,GAFU;AAEL;AACLC,YAAAA,KAHU;AAIVC,YAAAA,WAJU;AAKVC,YAAAA;AALU,WAAZ;AAOE,SATD;AAWD,OAbN,EAcMI,KAdN,CAcY,UAASC,KAAT,EAAgB;AACnBC,QAAAA,IAAI,CAACD,KAAL,GAAaA,KAAb;AACH,OAhBN;AAiBA,WAAKE,QAAL,CAAc;AACbpB,QAAAA;AADa,OAAd;AAGA,KA/BkB;;AAEf,SAAKqB,GAAL,GAAW5B,QAAQ,CAACW,SAAT,GAAqBC,UAArB,CAAgC,UAAhC,CAAX;AACA,SAAKiB,WAAL,GAAmB,IAAnB;AACA,SAAKC,KAAL,GAAa;AACXvB,MAAAA,MAAM,EAAE;AADG,KAAb;AAGH;;AAyBAwB,EAAAA,iBAAiB,GAAG;AAClB,SAAKF,WAAL,GAAmB,KAAKD,GAAL,CAASI,UAAT,CAAoB,KAAKC,kBAAzB,CAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,KAAjB;AACD;;AACDM,EAAAA,MAAM,GAAG;AACP,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAA4B,KAAKN,KAAL,CAAWvB,MAAX,CAAkB8B,GAAlB,CAAsBC,KAAK,IAChD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,MAAC,IAAD;AAAM,MAAA,IAAI,EAAC,SAAX;AAAqB,MAAA,EAAE,eAAQA,KAAK,CAACpB,KAAd,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+CoB,KAAK,CAACpB,KAArD,CAAJ,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKoB,KAAK,CAACnB,WAAX,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKmB,KAAK,CAAClB,MAAX,CAHF,CADqB,CAA5B,CAAP;AAOD;;AA7C6B;;AA+ChC,eAAejB,OAAf","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport firebase from '../Firebase';\r\nimport Layout from '../../components/MyLayout';\r\nimport { useRouter } from 'next/router'\r\n\r\nclass Article extends Component {\r\n\tconstructor(props) {\r\n\t    super(props);\r\n\t    this.ref = firebase.firestore().collection('articles');\r\n\t    this.unsubscribe = null;\r\n\t    this.state = {\r\n\t      boards: []\r\n\t    };\r\n\t}\r\n\tonCollectionUpdate = (querySnapshot) => {\r\n\t\tconst boards = [];\r\n\t\tconst id = this.props.url.query.id;\r\n\t\tfirebase.firestore().collection('articles').where('title','==', 'sad').get()\r\n\t      .then(function(querySnapshot) {\r\n\t        querySnapshot.forEach(function(doc) {\r\n\t            const { title, description, author } = doc.data();\r\n\t\t      boards.push({\r\n\t\t        key: doc.id,\r\n\t\t        doc, // DocumentSnapshot\r\n\t\t        title,\r\n\t\t        description,\r\n\t\t        author,\r\n\t\t      });\r\n\t        });\r\n\t        \r\n\t      })\r\n\t      .catch(function(error) {\r\n\t          self.error = error;\r\n\t      });\r\n\t\tthis.setState({\r\n\t\t\tboards\r\n\t\t});\r\n\t}\r\n  componentDidMount() {\r\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\r\n    console.log(this.state)\r\n  }\r\n  render() {\r\n    return <h1>Hello,                 {this.state.boards.map(board =>\r\n                  <tr>\r\n                    <td><Link href=\"/p/[id]\" as={`/p/${board.title}`}>{board.title}</Link></td>\r\n                    <td>{board.description}</td>\r\n                    <td>{board.author}</td>\r\n                  </tr>\r\n                )}</h1>;\r\n  }\r\n}\r\nexport default Article;"]},"metadata":{},"sourceType":"module"}