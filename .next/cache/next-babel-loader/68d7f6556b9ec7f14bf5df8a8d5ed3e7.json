{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Work\\\\reactjs-crm\\\\pages\\\\p\\\\[id].js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport firebase from '../Firebase';\nimport Layout from '../../components/MyLayout';\nimport { useRouter } from 'next/router';\n\nclass Article extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onCollectionUpdate\", querySnapshot => {\n      const boards = [];\n      const id = this.props.url.query.id;\n      this.ref.where('title', '==', id).get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          var obj = doc.data();\n          obj['id'] = doc.id;\n          self.boards.push(obj);\n        });\n      }).catch(function (error) {\n        self.error = error;\n      });\n    });\n\n    this.ref = firebase.firestore().collection('articles');\n    this.unsubscribe = null;\n    this.state = {\n      boards: []\n    };\n  }\n\n  ActiveLink({\n    children,\n    href\n  }) {\n    const router = useRouter();\n    const router_path = router.pathname;\n  }\n\n  componentDidMount() {\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\n    console.log(this.unsubscribe);\n  }\n\n  render() {\n    return __jsx(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Hello, \", boards);\n  }\n\n}\n\nexport default Article;","map":{"version":3,"sources":["C:\\Work\\reactjs-crm\\pages\\p\\[id].js"],"names":["React","Component","firebase","Layout","useRouter","Article","constructor","props","querySnapshot","boards","id","url","query","ref","where","get","then","forEach","doc","obj","data","self","push","catch","error","firestore","collection","unsubscribe","state","ActiveLink","children","href","router","router_path","pathname","componentDidMount","onSnapshot","onCollectionUpdate","console","log","render"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAC/BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,gDAQGC,aAAD,IAAmB;AACxC,YAAMC,MAAM,GAAG,EAAf;AACA,YAAMC,EAAE,GAAG,KAAKH,KAAL,CAAWI,GAAX,CAAeC,KAAf,CAAqBF,EAAhC;AACA,WAAKG,GAAL,CAASC,KAAT,CAAe,OAAf,EAAuB,IAAvB,EAA6BJ,EAA7B,EAAiCK,GAAjC,GACMC,IADN,CACW,UAASR,aAAT,EAAwB;AAC5BA,QAAAA,aAAa,CAACS,OAAd,CAAsB,UAASC,GAAT,EAAc;AAChC,cAAIC,GAAG,GAAGD,GAAG,CAACE,IAAJ,EAAV;AACAD,UAAAA,GAAG,CAAC,IAAD,CAAH,GAAYD,GAAG,CAACR,EAAhB;AACAW,UAAAA,IAAI,CAACZ,MAAL,CAAYa,IAAZ,CAAiBH,GAAjB;AACH,SAJD;AAMD,OARN,EASMI,KATN,CASY,UAASC,KAAT,EAAgB;AACnBH,QAAAA,IAAI,CAACG,KAAL,GAAaA,KAAb;AACH,OAXN;AAYC,KAvBkB;;AAEf,SAAKX,GAAL,GAAWX,QAAQ,CAACuB,SAAT,GAAqBC,UAArB,CAAgC,UAAhC,CAAX;AACA,SAAKC,WAAL,GAAmB,IAAnB;AACA,SAAKC,KAAL,GAAa;AACXnB,MAAAA,MAAM,EAAE;AADG,KAAb;AAGH;;AAkBDoB,EAAAA,UAAU,CAAC;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAD,EAAqB;AAC7B,UAAMC,MAAM,GAAG5B,SAAS,EAAxB;AACA,UAAM6B,WAAW,GAAGD,MAAM,CAACE,QAA3B;AAED;;AACAC,EAAAA,iBAAiB,GAAG;AAClB,SAAKR,WAAL,GAAmB,KAAKd,GAAL,CAASuB,UAAT,CAAoB,KAAKC,kBAAzB,CAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,WAAjB;AACD;;AACDa,EAAAA,MAAM,GAAG;AACP,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAY/B,MAAZ,CAAP;AACD;;AArC6B;;AAuChC,eAAeJ,OAAf","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport firebase from '../Firebase';\r\nimport Layout from '../../components/MyLayout';\r\nimport { useRouter } from 'next/router'\r\n\r\nclass Article extends Component {\r\n\tconstructor(props) {\r\n\t    super(props);\r\n\t    this.ref = firebase.firestore().collection('articles');\r\n\t    this.unsubscribe = null;\r\n\t    this.state = {\r\n\t      boards: []\r\n\t    };\r\n\t}\r\n\tonCollectionUpdate = (querySnapshot) => {\r\n\tconst boards = [];\r\n\tconst id = this.props.url.query.id;\r\n\tthis.ref.where('title','==', id).get()\r\n      .then(function(querySnapshot) {\r\n        querySnapshot.forEach(function(doc) {\r\n            var obj = doc.data();\r\n            obj['id'] = doc.id;\r\n            self.boards.push(obj);\r\n        });\r\n        \r\n      })\r\n      .catch(function(error) {\r\n          self.error = error;\r\n      });\r\n\t}\r\n\r\n\tActiveLink({ children, href }) {\r\n\t  const router = useRouter()\r\n\t  const router_path = router.pathname\r\n\t  \r\n\t}\r\n  componentDidMount() {\r\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\r\n    console.log(this.unsubscribe)\r\n  }\r\n  render() {\r\n    return <h1>Hello, {boards}</h1>;\r\n  }\r\n}\r\nexport default Article;"]},"metadata":{},"sourceType":"module"}